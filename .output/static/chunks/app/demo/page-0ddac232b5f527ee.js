(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[436],{2868:(e,a,s)=>{Promise.resolve().then(s.bind(s,6374))},6374:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>f});var t=s(5155),c=s(2115),r=s(8186),l=s(1154),n=s(1007),i=s(3109),o=s(7924),d=s(9074),x=s(3727),m=s(2461),h=s(1621),y=s(8474),j=s(5961),p=s(1035);function f(){let{currentTheme:e}=(0,j.D)(),a=(0,p.Yx)(e),[s,f]=(0,c.useState)(null),[u,N]=(0,c.useState)([]),[g,b]=(0,c.useState)([]),[v,w]=(0,c.useState)(!0),[P,A]=(0,c.useState)(!1),[S,k]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{w(!0),k(null);try{let e=await fetch("/api/players/top?limit=10");if(e.ok){let a=await e.json();b(a.players||[])}else throw Error("Failed to fetch top players: ".concat(e.status))}catch(e){console.error("Error fetching top players:",e),k("Failed to load top players. Using sample data instead.")}finally{w(!1)}})()},[]);let E=async e=>{A(!0),k(null);try{let a=await fetch("/api/players/".concat(e,"/history"));if(a.ok){let e=await a.json();console.log("Rating history data:",e);let s=Array.isArray(e)?e:e.ratings||[];N(s)}else throw Error("Failed to fetch rating history: ".concat(a.status))}catch(e){console.error("Error fetching rating history:",e),k("Failed to load rating history. Using sample data instead.")}finally{A(!1)}},F=e=>{f(e),E(e.ECF_code)};return(0,t.jsx)("div",{className:"min-h-screen ".concat((0,p.pe)(e)),children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("div",{className:"flex justify-end mb-4",children:(0,t.jsx)(y.A,{})}),(0,t.jsx)("h1",{className:"text-5xl font-bold ".concat(a.textPrimary," mb-4"),children:"Chess Rating Dashboard - Demo"}),(0,t.jsx)("p",{className:"text-xl ".concat(a.textSecondary," mb-4"),children:"Track player ratings and performance over time"}),(0,t.jsx)("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-lg p-4 max-w-2xl mx-auto",children:(0,t.jsxs)("p",{className:"text-yellow-300 text-sm",children:[(0,t.jsx)("strong",{children:"Demo Mode:"})," This is a demonstration using real player data from the ECF API. Try searching for any player or click on the top players below to see the features in action."]})})]}),(0,t.jsx)("div",{className:"max-w-2xl mx-auto mb-12",children:(0,t.jsx)(x.A,{onPlayerSelect:F})}),(0,t.jsxs)("div",{className:"max-w-6xl mx-auto mb-12",children:[(0,t.jsxs)("h3",{className:"text-xl font-semibold ".concat(a.textPrimary," mb-4 text-center flex items-center justify-center gap-2"),children:[(0,t.jsx)(r.A,{className:"w-5 h-5"}),"Top 10 Players by Rating"]}),S&&(0,t.jsx)("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-4 mb-6",children:(0,t.jsx)("p",{className:"text-red-300 text-sm",children:S})}),v?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(l.A,{className:"w-8 h-8 animate-spin text-blue-400"}),(0,t.jsx)("span",{className:"ml-2 ".concat(a.textSecondary),children:"Loading top players..."})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:g.map((s,c)=>(0,t.jsxs)("button",{onClick:()=>F(s),className:"".concat(a.surface," rounded-xl p-4 ").concat(a.surfaceHover," transition-colors text-left relative"),children:[(0,t.jsx)("div",{className:"absolute top-2 right-2 w-6 h-6 bg-yellow-500 text-black text-xs font-bold rounded-full flex items-center justify-center",children:c+1}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 ".concat((0,p.k2)(e)," rounded-full flex items-center justify-center"),children:(0,t.jsx)(n.A,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"".concat(a.textPrimary," font-medium truncate"),children:s.full_name}),(0,t.jsxs)("div",{className:"".concat(a.textSecondary," text-sm"),children:["Rating: ",s.rating," â€¢ ",s.title]}),s.federation&&(0,t.jsx)("div",{className:"".concat(a.textSecondary," text-xs"),children:s.federation})]})]})]},s.ECF_code))})]}),s&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(m.A,{player:s,ratingHistory:u}),(0,t.jsxs)("div",{className:"".concat(a.card," p-8"),children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold ".concat(a.textPrimary," mb-6 flex items-center gap-2"),children:[(0,t.jsx)(i.A,{className:"w-6 h-6 ".concat(a.iconPrimary)}),"Rating History",P&&(0,t.jsx)(l.A,{className:"w-5 h-5 animate-spin"})]}),S&&(0,t.jsx)("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-4 mb-6",children:(0,t.jsx)("p",{className:"text-red-300 text-sm",children:S})}),P?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(l.A,{className:"w-8 h-8 animate-spin text-blue-400"}),(0,t.jsx)("span",{className:"ml-2 ".concat(a.textSecondary),children:"Loading rating history..."})]}):(0,t.jsx)(h.A,{data:u})]})]}),!s&&(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-8 mt-16",children:[(0,t.jsxs)("div",{className:"".concat(a.card," p-6 text-center"),children:[(0,t.jsx)(o.A,{className:"w-12 h-12 ".concat(a.iconPrimary," mx-auto mb-4")}),(0,t.jsx)("h3",{className:"text-xl font-semibold ".concat(a.textPrimary," mb-2"),children:"Search Players"}),(0,t.jsx)("p",{className:a.textSecondary,children:"Find any player by name using the ECF database"})]}),(0,t.jsxs)("div",{className:"".concat(a.card," p-6 text-center"),children:[(0,t.jsx)(n.A,{className:"w-12 h-12 ".concat(a.iconPrimary," mx-auto mb-4")}),(0,t.jsx)("h3",{className:"text-xl font-semibold ".concat(a.textPrimary," mb-2"),children:"Player Profiles"}),(0,t.jsx)("p",{className:a.textSecondary,children:"View detailed player information and statistics"})]}),(0,t.jsxs)("div",{className:"".concat(a.card," p-6 text-center"),children:[(0,t.jsx)(d.A,{className:"w-12 h-12 ".concat(a.iconPrimary," mx-auto mb-4")}),(0,t.jsx)("h3",{className:"text-xl font-semibold ".concat(a.textPrimary," mb-2"),children:"Rating Tracking"}),(0,t.jsx)("p",{className:a.textSecondary,children:"Monitor rating changes and performance trends"})]})]})]})})}}},e=>{e.O(0,[647,941,308,441,583,358],()=>e(e.s=2868)),_N_E=e.O()}]);